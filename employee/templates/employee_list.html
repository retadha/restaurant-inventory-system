{% extends 'base.html' %} {% load static %}

{% block body %}
  <div class="d-flex justify-content-between py-2">
    <h2>Employee List</h2>
    <a href="{% url 'create_employee' %}">
      <button class="btn btn-primary">Add Employee</button>
    </a>
  </div>

  <!-- <form method="GET">
    <input type="text" name="search-area" id="search-area">
    <input type="submit" value="Search">
  </form> -->

  <table class="table">
    <thead>
      <tr>
        <th>Nama Lengkap</th>
        <th>Role</th>
        <th>Gedung</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for employee in employees %}
      <tr>
        <td>{{ employee.nama }}</td>
        {% if employee.role == '0' %}
          <td>Manager</td>
        {% elif employee.role == '1' %}
          <td>Staff</td>
        {% elif employee.role == '2' %}
          <td>Admin</td>
        {% endif %}
        <td>{{ employee.id_gedung }}</td>
        <td><a href="{% url 'employee_detail' employee.id %}">View Details</a></td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3">No employees found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

<script>
  let table = new DataTable(".table", {
    // options
  });
</script>
{% endblock %}